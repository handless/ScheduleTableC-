@{
    ViewBag.Title = "TeacherSchedule";
}

<h2>TeacherSchedule</h2>
@Scripts.Render("~/scripts/jquery-1.7.1.js")
@Scripts.Render("~/scripts/jquery.unobtrusive-ajax.js")

 <fieldset>
    <legend>Teacher</legend>
    <select name="TeacherSelected" id="TeacherSelected">
       
         @foreach (var item in @ViewBag.Teacher)
        {
            <option value="@item.LastName">@item.LastName</option>
        }
    </select>
    <p>
        <input type="submit" id="sumbit" value="Create" />
    </p>
</fieldset>



<div id="results"></div>
<script type="text/javascript">
    

    $(document).ready(function () {
        $('#sumbit').click(function (e) {
            e.preventDefault();
            var name = getSelectedValue();
            $('#results').load("http://localhost:52623/Schedule/TeacherScheduleAjax?teacherName=" + name);
        });

    });



    function getSelectedValue() {
        var index = document.getElementById("TeacherSelected").selectedIndex;
        var text = document.getElementById("TeacherSelected").options[index].text;
        return text;
    }
</script>

